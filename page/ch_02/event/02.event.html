<!DOCTYPE html>
<html>
  <head>
    <title>React Event</title>
    <meta charset="utf-8">
  </head>
  <body>
    <div id="app">
      <!-- 앱이 렌더링 되는 위치-->
    </div>
    <!-- 페이지 렌더링을 우선하기 위해 스크립트 참조를 하단에 위치한다.-->
    <script src="../../../node_modules/react/dist/react.js"></script>
    <script src="../../../node_modules/react-dom/dist/react-dom.js"></script>
    <script>
    //리액트 컴포넌트를 생성합니다.
    var Box = React.createClass({
      getInitialState() {
        return {
          windowWidth: window.innerWidth
        };
      },
      handleResize(e) {
        this.setState({windowWidth: window.innerWidth});
      },
      componentDidMount() {
        //window의 resize 이벤트를 리액트 컴포넌트에 추가합니다.
        window.addEventListener('resize', this.handleResize);
      },
      componentWillUnmount() {
        //window의 resize 이벤트를 제거합니다.
        //componentDidMount에 resize 이벤트를 추가하였기 때문에 코드 실행 시에 영향은 없습니다.)
        window.removeEventListener('resize', this.handleResize);
      },
      render() {
        return React.DOM.div(null,
          React.DOM.span(null, React.DOM.h3(null, "Current window width:" + this.state.windowWidth))
        );
      }
    });

    ReactDOM.render(
      React.createElement(Box, null),
      document.getElementById("app")
    );
    </script>
  </body>
</html>
